@model IEnumerable<TheatreCMS3.Areas.Blog.Models.Comment>
@Html.Hidden("OnLikeClick", Url.Action("OnLikeClick", "Comments"))
@Html.Hidden("OnDislikeClick", Url.Action("OnDislikeClick", "Comments"))

<p>
  @Html.ActionLink("Create New", "Create")
</p>


@foreach (var item in Model.OrderByDescending(i => i.CommentDate))
{
  // makes unique ids for like and display element for each comment for reference in javascript
  string likes = item.CommentId + "likes";
  string dislikes = item.CommentId + "dislikes";

  <div class="col-lg-12 p-2 cms-bg-main-light border border-dark">

      @*top row display user name, comment messsage.*@
      <div class="row">
          <a class="col-2" href="">@Html.DisplayFor(modelItem => item.Author.UserName)</a>
          <p class="col-8 border border-light cms-text-dark">@Html.DisplayFor(modelItem => item.Message)</p>
          <button class="col-1 p-1 cms-text-dark btn">
              <i class="fa fa-trash" aria-hidden="true"></i>
          </button>
      </div>

      @*bottom row display*@
      <div class="row">
          <p class="col-2">@item.TimeSincePost()</p>

          @*Like button/ Likes*@
          <input type="button" onclick="addLike(@item.CommentId)" class="btn btn-outline-light cms-bg-main" value="Like">
          <p id="@likes" class="col-1">@Html.DisplayFor(modelItem => item.Likes)</p>

          @*Dislike button/ Dislikes*@
          <input type="button" onclick="addDislike(@item.CommentId)" class="btn btn-outline-light cms-bg-main" value="DisLike">
          <p id="@dislikes" class="col-1">@Html.DisplayFor(modelItem => item.Dislikes)</p>

          <button class="btn btn-outline-light cms-bg-main">Reply</button>

    </div>
  </div>
}
