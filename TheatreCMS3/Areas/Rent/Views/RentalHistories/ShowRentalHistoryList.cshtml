@model IEnumerable<TheatreCMS3.Areas.Rent.Models.RentalHistory>
@using TheatreCMS3.Helpers;

@foreach (var item in Model)
{
    var isDamage = "";
    <div class="d-flex rent-list-border-top">
        <div class="p-2">
            @if (item.RentalDamaged)
            {
                <i class="fa fa-times-circle text-danger fa-2x" aria-hidden="true"></i>
            }
            else
            {

                <i class="fa fa-check-circle text-success fa-2x" aria-hidden="true"></i>
                isDamage = "text-muted";
            }
        </div>
        <div class="p-2">
            <div class="badge badge-dark p-2 text-white rounded"> @Html.DisplayFor(modelItem => item.Rental)</div>
        </div>

        <div class="p-2 flex-grow-1">
            <div class="@isDamage">
                @if (item.DamagesIncurred.Length > 50)
                {
                    @TextHelpers.LimitCharacter(item.DamagesIncurred, 50)
                }
                else
                {
                    @Html.DisplayFor(modelItem => item.DamagesIncurred)
                }

            </div>

        </div>
        <div class="p-2 dropdown">
            <button class="btn" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a href="@Url.Action("Edit", new { id = item.RentalHistoryId } )" class="dropdown-item"><i class="fa fa-pen-square" aria-hidden="true"></i> Edit</a>
                <a href="@Url.Action("Details", new { id = item.RentalHistoryId } )" class="dropdown-item"><i class="fa fa-info-circle" aria-hidden="true"></i> Details</a>
                <div role="separator" class="dropdown-divider"></div>
                <a href="@Url.Action("Delete", new { id = item.RentalHistoryId } )" class="dropdown-item text-danger"><i class="fa fa-trash" aria-hidden="true"></i> Delete</a>
            </div>
        </div>
    </div>
}