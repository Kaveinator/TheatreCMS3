@model IEnumerable<TheatreCMS3.Areas.Rent.Models.RentalHistory>
@using TheatreCMS3.Helpers;

@foreach (var item in Model)
{
    var isDamage = "";
    <div class="d-flex flex-column rent-list-border-top ">
        <div class="d-flex rentHistory-accordion-tab"  href="#collapse-@item.RentalHistoryId">
            <div class="p-2">
                @if (item.RentalDamaged)
                {
                    <i class="fa fa-times-circle text-danger fa-2x" aria-hidden="true"></i>
                }
                else
                {

                    <i class="fa fa-check-circle text-success fa-2x" aria-hidden="true"></i>
                    isDamage = "text-muted";
                }
            </div>
            <div class="p-2 d-flex align-items-center flex-grow-1">
                <div class="badge badge-dark p-2 text-white rounded"> @Html.DisplayFor(modelItem => item.Rental)</div>
                <div class="@isDamage rentHistory-text-ellipse p-2 ">
                    @if (item.RentalDamaged)
                    {
                        @Html.DisplayFor(modelItem => item.DamagesIncurred)
                    }
                    else
                    {
                        <span>None</span>
                    }
                </div>
            </div>
            <div class="p-2 dropdown">
                <button class="btn" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></button>
                <div class="rentHistory-dropdown-List dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a href="@Url.Action("Edit", new { id = item.RentalHistoryId } )" class="dropdown-item"><i class="fa fa-pen-square" aria-hidden="true"></i> Edit</a>
                    <a href="@Url.Action("Details", new { id = item.RentalHistoryId } )" class="dropdown-item"><i class="fa fa-info-circle" aria-hidden="true"></i> Details</a>
                    <div role="separator" class="dropdown-divider"></div>
                    <a href="@Url.Action("Delete", new { id = item.RentalHistoryId } )" class="dropdown-item text-danger"><i class="fa fa-trash" aria-hidden="true"></i> Delete</a>
                </div>
            </div>
        </div>
        <div class="rentHistory-accordion-content" id="collapse-@item.RentalHistoryId"   style="" >  
            <div class="@isDamage p-2">
                @if (item.RentalDamaged)
                {
                    @Html.DisplayFor(modelItem => item.DamagesIncurred)
                }
                else
                {
                 <span>Notes: </span> @Html.DisplayFor(modelItem => item.DamagesIncurred)
                }
            </div> 
        </div>
    </div>
}